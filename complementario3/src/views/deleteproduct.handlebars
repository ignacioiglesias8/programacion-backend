<h1>{{title}}</h1>

<label for="productId">Producto Id</label>
<input type="text" name="productId" id="productId">

<button type="button" class="deleteProduct">Eliminar producto</button>




<script>
let deleteProductButton = document.querySelector(".deleteProduct");
if (deleteProductButton) {
    deleteProductButton.addEventListener("click", function () {
    const productId = document.getElementById("productId").value;

    if (!productId) {
        alert("Por favor, ingrese un ID de producto válido.");
        return;
    }

    if (!confirm("¿Está seguro de que desea eliminar este producto?")) {
        return;
    }

    fetch(`/api/products/${productId}`, {
        method: "DELETE",
        headers: {
        "Content-Type": "application/json"
        }
    })
        .then((response) => {
        if (response.ok) {
            alert("Producto eliminado correctamente");
            document.getElementById("productId").value = "";
        } else {
            console.error("Error al eliminar el producto.");
        }
        })
        .catch((error) => {
        console.error("Error al realizar la solicitud:", error);
        });
    });
}
</script>